{
  "kind": "collectionType",
  "collectionName": "workflow_triggers",
  "info": {
    "singularName": "workflow-trigger",
    "pluralName": "workflow-triggers",
    "displayName": "Workflow Trigger",
    "description": "Automated workflow triggers for onboarding and artist development"
  },
  "options": {
    "draftAndPublish": false
  },
  "pluginOptions": {},
  "attributes": {
    "name": {
      "type": "string",
      "required": true
    },
    "description": {
      "type": "text"
    },
    "triggerType": {
      "type": "enumeration",
      "enum": ["event", "schedule", "condition", "manual", "ai_driven"],
      "required": true
    },
    "event": {
      "type": "enumeration",
      "enum": ["artist_signup", "profile_completion", "first_upload", "first_release", "first_earnings", "milestone_reached", "collaboration_request", "performance_drop", "growth_spike", "engagement_change"],
      "required": true
    },
    "conditions": {
      "type": "json"
    },
    "schedule": {
      "type": "json"
    },
    "actions": {
      "type": "json",
      "required": true
    },
    "status": {
      "type": "enumeration",
      "enum": ["active", "inactive", "draft", "testing"],
      "default": "draft"
    },
    "priority": {
      "type": "enumeration",
      "enum": ["low", "normal", "high", "critical"],
      "default": "normal"
    },
    "targetAudience": {
      "type": "enumeration",
      "enum": ["all_artists", "new_artists", "emerging_artists", "established_artists", "specific_artists", "ai_selected"],
      "default": "all_artists"
    },
    "brand": {
      "type": "enumeration",
      "enum": ["msc_co", "yhwh_msc", "audio_msc", "all"],
      "default": "msc_co"
    },
    "whiteLabelBrand": {
      "type": "string"
    },
    "aiOptimized": {
      "type": "boolean",
      "default": false
    },
    "personalization": {
      "type": "json"
    },
    "successMetrics": {
      "type": "json"
    },
    "executionHistory": {
      "type": "json"
    },
    "lastExecuted": {
      "type": "datetime"
    },
    "nextExecution": {
      "type": "datetime"
    },
    "executionCount": {
      "type": "integer",
      "default": 0
    },
    "successRate": {
      "type": "decimal",
      "default": 0
    },
    "errorLog": {
      "type": "json"
    },
    "tags": {
      "type": "json"
    },
    "createdBy": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "plugin::users-permissions.user"
    },
    "updatedBy": {
      "type": "relation",
      "relation": "manyToOne",
      "target": "plugin::users-permissions.user"
    }
  }
} 